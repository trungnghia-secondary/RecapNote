<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>RecapNote - TÃ³m táº¯t ghi chÃº báº±ng giá»ng nÃ³i</title>
  <link rel="stylesheet" href="style.css" />
  
  <!-- Äá»‹nh nghÄ©a callback trÆ°á»›c -->
  <script>
    function handleCredentialResponse(response) {
      try {
        console.log("ID Token:", response.credential);
        const data = JSON.parse(atob(response.credential.split('.')[1]));
        console.log("User Info:", data);

        // ThÃªm hiá»ƒn thá»‹ user vÃ o header thay vÃ¬ append lung tung
        const nav = document.querySelector("nav");
        const userInfo = document.createElement("span");
        userInfo.textContent = `ğŸ‘‹ Xin chÃ o, ${data.name}`;
        nav.appendChild(userInfo);
      } catch (err) {
        console.error("Google Login error:", err);
        alert("ÄÄƒng nháº­p Google tháº¥t báº¡i!");
      }
    }
  </script>

  <!-- Script Google Identity -->
  <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body>
  <!-- Header -->
  <header class="navbar">
    <div class="left-section">
      <img src="https://raw.githubusercontent.com/trungnghia-secondary/RecapNote/main/RECAPNOTE-LOGO-Color.png" alt="RecapNote Logo" class="logo-img" height="150">
      <span class="logo-text">RecapNote</span>
      <nav>
        <button class = "nav-button" onclick="document.getElementById('features').scrollIntoView({behavior:'smooth'})">
           Chi tiáº¿t
        </button>
        <button class = "nav-button-outline" onclick="document.getElementById('pricing').scrollIntoView({behavior:'smooth'})">
          GiÃ¡ cáº£
        </button>
      </nav>
    </div>
    <div class="right-section">
    <!-- Google Sign-in button (thu gá»n) -->
     <div id="g_id_onload"
       data-client_id="872966006027-6l69b4h3nnjjnptdbcv3ebksre6oo9l1.apps.googleusercontent.com"
       data-callback="handleCredentialResponse">
     </div>
     <div id="googleLogin" class="g_id_signin" data-type="standard"></div>

     <!-- Logout button (áº©n máº·c Ä‘á»‹nh) -->
     <button id="logoutBtn" style="display:none;" class="btn btn-outline">ÄÄƒng xuáº¥t</button>

     <script>
      // Xá»­ lÃ½ callback khi Google login thÃ nh cÃ´ng
      function handleCredentialResponse(response) {
      console.log("Encoded JWT ID token: " + response.credential);

      // Giáº£ sá»­ báº¡n decode token Ä‘á»ƒ láº¥y email/user name
      localStorage.setItem("userLoggedIn", "true");

      // áº¨n nÃºt login, hiá»‡n logout
      document.getElementById("googleLogin").style.display = "none";
      document.getElementById("logoutBtn").style.display = "inline-block";
      }

      // Khi load láº¡i trang, kiá»ƒm tra tráº¡ng thÃ¡i
      window.onload = function() {
      if (localStorage.getItem("userLoggedIn") === "true") {
        document.getElementById("googleLogin").style.display = "none";
        document.getElementById("logoutBtn").style.display = "inline-block";
        }
      };

      // Logout
      document.getElementById("logoutBtn").addEventListener("click", function() {
        localStorage.removeItem("userLoggedIn");
        document.getElementById("googleLogin").style.display = "block";
        document.getElementById("logoutBtn").style.display = "none";
      });
    </script>
    </div>
  </header>

  <!-- Hero -->
  <section class="hero">
    <h1>Trá»£ lÃ­ AI tÃ³m táº¯t</h1>
    <p>Chuyá»ƒn Ä‘á»•i giá»ng nÃ³i thÃ nh vÄƒn báº£n Ä‘á»ƒ xá»­ lÃ­ dá»… dÃ ng hÆ¡n</p>
  </section>

    <!-- Tabs -->
  <div class="tab-container">
    <div class="tabs">
      <button class="tab-btn active" data-tab="upload">ğŸ“‚ Táº£i file</button>
      <button class="tab-btn" data-tab="record">ğŸ¤ Ghi Ã¢m</button>
    </div>

    <!-- Upload -->
    <div class="tab-content active" id="upload">
      <h2>ğŸ“‚ Táº£i file</h2>
      <form id="uploadForm">
        <input type="file" id="fileInput" />
        <button type="submit" class="btn-primary">Táº£i lÃªn</button>
      </form>
    </div>

    <!-- Record -->
    <div class="tab-content" id="record">
      <h2>ğŸ¤ Ghi Ã¢m</h2>
      <div class="record-box">
        <button id="startBtn" class="btn-primary">ğŸ™ï¸ Ghi Ã¢m</button>
        <button id="stopBtn" class="btn-secondary" disabled>â¹ï¸ Dá»«ng</button>
      </div>
      <audio id="audioPlayback" controls style="display:none;"></audio>
    </div>
  </div>

<div id="transcript" class="output-box"></div>


  <!-- Features -->
  <section id = "features" class="features">
    <h2>TÃ­nh nÄƒng chÃ­nh</h2>
    <div class="feature-grid">
      <div class="feature-card">
        <div class="icon">âš¡</div>
        <h3>TÃ³m táº¯t nhanh</h3>
        <p>PhÃ¢n tÃ­ch Ã¢m thanh, ghi Ã¢m vÃ  tá»‡p vÄƒn báº£n dÃ i dÃ²ng ná»™i dung cá»‘t lÃµi chá»‰ trong vÃ i giÃ¢y</p>
      </div>
      <div class="feature-card">
        <div class="icon">ğŸŒ</div>
        <h3>Há»— trá»£ Ä‘a ngÃ´n ngá»¯</h3>
        <p>Há»— trá»£ nhiá»u ngÃ´n ngá»¯, dá»‹ch tÃ³m táº¯t vÃ  ghi chÃº nhanh chá»‰ báº±ng má»™t cÃº nháº¥p</p>
      </div>
      <div class="feature-card">
        <div class="icon">ğŸ’¬</div>
        <h3>Chatbot AI</h3>
        <p>Tháº£o luáº­n vÃ  Ä‘áº·t cÃ¢u há»i vá»›i AI dá»±a trÃªn ná»™i dung Ä‘Ã£ tÃ³m táº¯t Ä‘á»ƒ hiá»ƒu sÃ¢u hÆ¡n</p>
      </div>
    </div>
  </section>

  <!-- Pricing -->
  <section id="pricing" class="pricing">
    <h2>Káº¿ hoáº¡ch giÃ¡ cáº£ linh hoáº¡t</h2>
    <div class="plans">
      <div class="plan">
        <h3>Free</h3>
        <p>VNÄ0</p>
        <ul>
          <li>Chuyá»ƒn Ä‘á»•i Ä‘Æ¡n giáº£n</li>
          <li>Há»— trá»£ lÃªn Ä‘áº¿n 60 phÃºt Ã¢m thanh</li>
        </ul>
        <button>CÃ³ sáºµn</button>
      </div>
      <div class="plan highlighted">
        <h3>Plus</h3>
        <p>VNÄ99.000</p>
        <ul>
          <li>Xá»­ lÃ½ Æ°u tiÃªn</li>
          <li>180 phÃºt Ã¢m thanh</li>
        </ul>
        <button>ÄÄƒng kÃ­ ngay</button>
      </div>
      <div class="plan">
        <h3>Premium</h3>
        <p>VNÄ199.000</p>
        <ul>
          <li>Model máº¡nh máº½ hÆ¡n</li>
          <li>TÃ­nh nÄƒng nÃ¢ng cao</li>
          <li>1 tuáº§n ghi Ã¢m vÃ  Æ°u tiÃªn xá»­ lÃ­ cao nháº¥t</li>
        </ul>
        <button>ÄÄƒng kÃ­ ngay</button>
      </div>
    </div>
  </section>

  <!-- JS -->
  <script src="app.js"></script>
</body>
</html>
